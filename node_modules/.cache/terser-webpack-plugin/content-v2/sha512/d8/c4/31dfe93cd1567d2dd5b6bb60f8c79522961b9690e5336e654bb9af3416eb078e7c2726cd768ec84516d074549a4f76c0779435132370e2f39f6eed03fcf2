{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{413:function(t,s,a){\"use strict\";a.r(s);var n=a(42),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"内存和垃圾回收\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#内存和垃圾回收\"}},[t._v(\"#\")]),t._v(\" 内存和垃圾回收\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"jvm整体架构\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jvm整体架构\"}},[t._v(\"#\")]),t._v(\" jvm整体架构\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"jvm整体架构分为三部分\\n\"),a(\"ul\",[a(\"li\",[t._v(\"类装载子系统\")]),t._v(\" \"),a(\"li\",[t._v(\"运行时数据区\")]),t._v(\" \"),a(\"li\",[t._v(\"执行引擎\")])])])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"类加载子系统\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#类加载子系统\"}},[t._v(\"#\")]),t._v(\" 类加载子系统\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"运行时数据区\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#运行时数据区\"}},[t._v(\"#\")]),t._v(\" 运行时数据区\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"虚拟机运行时数据区分为 \"),a(\"strong\",[t._v(\"堆、方法区、栈、本地方法栈、程序计数器\")])]),t._v(\" \"),a(\"li\",[a(\"strong\",[t._v(\"堆、方法区\")]),t._v(\"是线程间共享的，\"),a(\"strong\",[t._v(\"栈、本地方法栈、程序计数器\")]),t._v(\"是线程私有的\")])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"程序计数器\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#程序计数器\"}},[t._v(\"#\")]),t._v(\" 程序计数器\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"作用：记住下一条jvm指令执行地址\")]),t._v(\" \"),a(\"li\",[t._v(\"特点：\\n\"),a(\"ul\",[a(\"li\",[t._v(\"是线程私有的\")]),t._v(\" \"),a(\"li\",[t._v(\"是不会内存溢出的\")])])])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"虚拟机栈\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#虚拟机栈\"}},[t._v(\"#\")]),t._v(\" 虚拟机栈\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"每个线程运行时所需要的内存，称为虚拟机栈\")]),t._v(\" \"),a(\"li\",[t._v(\"每个栈由多个栈帧组成，对应着每次方法调用所占用的内存\")]),t._v(\" \"),a(\"li\",[t._v(\"每个线程只能有一个活动的栈帧，对应着当前正在执行的方法\")])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_1-1stackoverflowerror\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-1stackoverflowerror\"}},[t._v(\"#\")]),t._v(\" 1.1StackOverflowError\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"栈内存溢出：\\n\"),a(\"ul\",[a(\"li\",[t._v(\"栈内存默认1mb，-Xss指定栈内存大小\")]),t._v(\" \"),a(\"li\",[t._v(\"栈内存溢出可能情况：\\n\"),a(\"ul\",[a(\"li\",[t._v(\"递归调用\")]),t._v(\" \"),a(\"li\",[t._v(\"json转换对象相互引用\")])])])])])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_1-2线程诊断\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-2线程诊断\"}},[t._v(\"#\")]),t._v(\" 1.2线程诊断\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"案例1 cpu占用过多\")])]),t._v(\" \"),a(\"div\",{staticClass:\"language-java extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"CpuHigh\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"public\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"static\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"void\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"main\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"String\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" args\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Thread\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"->\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"System\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"out\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"println\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"1.....\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"while\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"thread1\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"start\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Thread\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"->\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"System\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"out\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"println\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"2......\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Thread\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sleep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1000000L\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"InterruptedException\")]),t._v(\" e\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"thread2\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"start\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Thread\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"->\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"System\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"out\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"println\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"2......\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Thread\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sleep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1000000L\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"InterruptedException\")]),t._v(\" e\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\n            \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"thread3\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"start\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"div\",{staticClass:\"language-sh extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#linux服务器中\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#top命令查看哪个进程cpu占比过高\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"top\")]),t._v(\" \\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# 根据top获取的进程号pid查看对应哪个线程占用过高\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"ps\")]),t._v(\" H -eo pid,tid,%cpu \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"grep\")]),t._v(\" 进程ID\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# 用jdk自带工具来查看线程内所有线程\")]),t._v(\"\\njstack 进程ID\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#根据刚才ps 命令获取的十进制线程ID经过十六进制换算，得到结果在jstack显示中的线程中查找占用过高的线程\")]),t._v(\"\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"案例2 程序运行很长时间没有结果\\n\"),a(\"ul\",[a(\"li\",[t._v(\"死锁会导致程序获取不到结果\")]),t._v(\" \"),a(\"li\",[t._v(\"jstack PID查看，会有Found 1 deadlock.标识\")])])])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"本地方法栈\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#本地方法栈\"}},[t._v(\"#\")]),t._v(\" 本地方法栈\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"jdk方法中native修饰的方法，由其它语言编写的方法称为本地方法\")]),t._v(\" \"),a(\"li\",[t._v(\"这些本地方法调用时需要的内存空间，就是本地方法栈\")])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"堆\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#堆\"}},[t._v(\"#\")]),t._v(\" 堆\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"通过new关键字，创建的对象都会使用堆内存\")]),t._v(\" \"),a(\"li\",[t._v(\"特点\\n\"),a(\"ul\",[a(\"li\",[t._v(\"它是线程共享的，堆中的对象都要考虑线程安全问题\")]),t._v(\" \"),a(\"li\",[t._v(\"有垃圾回收机制\")])])])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_2-1outofmemoryerror\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1outofmemoryerror\"}},[t._v(\"#\")]),t._v(\" 2.1OutOfMemoryError\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"代码产生的对象，而对象一直被使用无法被回收，内存占用越来越大。或者堆内存设置过小，导致堆内存溢出。\")])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_2-2内存诊断\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2内存诊断\"}},[t._v(\"#\")]),t._v(\" 2.2内存诊断\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"jmap工具 \"),a(\"code\",[t._v(\"查看堆内存占用情况\")])])]),t._v(\" \"),a(\"div\",{staticClass:\"language-sh extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#jps找到程序的进程ID\")]),t._v(\"\\njps\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#jmap命令查看堆中内存使用情况\")]),t._v(\"\\njmap -heap 进程ID\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"jconsole工具 \"),a(\"code\",[t._v(\"图像界面，多功能监测工具，可以连续监测\")])]),t._v(\" \"),a(\"li\",[t._v(\"jvisualvm \"),a(\"code\",[t._v(\"图像画面，可以看GC情况、堆内存使用情况\")])])]),t._v(\" \"),a(\"h4\",{attrs:{id:\"方法区\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#方法区\"}},[t._v(\"#\")]),t._v(\" 方法区\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"所有jvm线程共享区域\")]),t._v(\" \"),a(\"li\",[t._v(\"存储了跟类结构相关的信息(成员变量、方法数据、成员方法以及构造器、运行时常量池）\")]),t._v(\" \"),a(\"li\",[t._v(\"jvm启动时，方法区被创建。逻辑上是堆Heap的组成部分\")]),t._v(\" \"),a(\"li\",[t._v(\"1.8以后的hotSpot,用的是操作系统的内存,也叫元空间\")])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_3-1outofmemoryerror\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1outofmemoryerror\"}},[t._v(\"#\")]),t._v(\" 3.1OutOfMemoryError\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-sh extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# 1.8以前 永久代内存溢出\")]),t._v(\"\\nOutOfMemoryError:  PermGen space\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# 1.8以后 元空间内存溢出\")]),t._v(\"\\nOutOfMemoryError: Metaspace\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"场景：spring、mybatis用cglib做aop动态产生了太多Class加载导致\")])]),t._v(\" \"),a(\"h5\",{attrs:{id:\"_3-2常量池\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2常量池\"}},[t._v(\"#\")]),t._v(\" 3.2常量池\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"strong\",[t._v(\"常量池\")]),t._v(\"，就是一张表，虚拟机根据常量表找到要执行的类名、方法名、参数类型、字面值等信息\")]),t._v(\" \"),a(\"li\",[a(\"strong\",[t._v(\"运行时常量池\")]),t._v(\"，常量池时*.class文件中的，当该类被加载，它的常量池信息就放入运行时常量池，并把里面的符号地址变为真实地址。\")])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"执行引擎\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#执行引擎\"}},[t._v(\"#\")]),t._v(\" 执行引擎\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"stringtable\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#stringtable\"}},[t._v(\"#\")]),t._v(\" StringTable\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"垃圾回收\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#垃圾回收\"}},[t._v(\"#\")]),t._v(\" 垃圾回收\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"垃圾回收概述\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#垃圾回收概述\"}},[t._v(\"#\")]),t._v(\" 垃圾回收概述\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"垃圾回收相关算法\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#垃圾回收相关算法\"}},[t._v(\"#\")]),t._v(\" 垃圾回收相关算法\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"垃圾回收相关概述\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#垃圾回收相关概述\"}},[t._v(\"#\")]),t._v(\" 垃圾回收相关概述\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"垃圾回收器\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#垃圾回收器\"}},[t._v(\"#\")]),t._v(\" 垃圾回收器\")])])}),[],!1,null,null,null);s.default=r.exports}}]);","extractedComments":[]}