{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{420:function(a,t,s){\"use strict\";s.r(t);var n=s(43),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h2\",{attrs:{id:\"apollo-分布式配置中心\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#apollo-分布式配置中心\"}},[a._v(\"#\")]),a._v(\" Apollo-分布式配置中心\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"概述\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#概述\"}},[a._v(\"#\")]),a._v(\" 概述\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"Apollo（阿波罗）是携程框架部门研发的分布式配置中心，能够集中化管理应用不同环境、不同集群的配置，\\n配置修改后能够实时推送到应用端，并且具备规范的权限、流程治理等特性，适用于微服务配置管理场景。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"服务端基于Spring Boot和Spring Cloud开发，不依赖外部容器，便于部署。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"Java客户端不依赖任何框架，能够运行于所有Java运行时环境，同时对Spring/Spring Boot环境也有额外支持。\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"环境准备\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#环境准备\"}},[a._v(\"#\")]),a._v(\" 环境准备\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"JDK 1.8+\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"MySql 5.6.5+\")])])]),a._v(\" \"),s(\"h3\",{attrs:{id:\"单机版部署\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#单机版部署\"}},[a._v(\"#\")]),a._v(\" 单机版部署\")]),a._v(\" \"),s(\"h4\",{attrs:{id:\"启动apollo配置中心\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#启动apollo配置中心\"}},[a._v(\"#\")]),a._v(\" 启动Apollo配置中心\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"github下载项目 \"),s(\"code\",[a._v(\"https://github.com/nobodyiam/apollo-build-scripts\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"执行sql包下sql文件，分别通过语句查询，有数据则表示导入成功\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-sh extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"select\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"Id\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\", \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"AppId\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\", \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"Name\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\" from ApolloPortalDB.App\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])])]),s(\"div\",{staticClass:\"language-sh extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"select\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"NamespaceId\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\", \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"Key\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\", \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"Value\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\", \"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")]),a._v(\"Comment\"),s(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a._v(\"`\")])]),a._v(\" from ApolloConfigDB.Item\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"修改demo.sh的\"),s(\"code\",[a._v(\"#apollo config db info\")]),a._v(\"和\"),s(\"code\",[a._v(\"# apollo portal db info\")]),a._v(\"中数据库连接配置\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"脚本会在本地启动3个服务，分别使用8070, 8080, 8090端口，启动前请确保这3个端口当前没有被使用。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"bash命令启动，用git 在目录下命令运行demo.sh启动\")])])]),a._v(\" \"),s(\"div\",{staticClass:\"language-sh extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[s(\"code\",[a._v(\"./demo.sh start\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"当看到如下输出后，就说明启动成功了！\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-sh extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[s(\"code\",[a._v(\"  Started \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"9156\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n  Waiting \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"for\")]),a._v(\" config \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"service\")]),a._v(\" startup\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),a._v(\".\\n  Config \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"service\")]),a._v(\" started. You may visit http://localhost:8080 \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"for\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"service\")]),a._v(\" status now\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"!\")]),a._v(\"\\n  Waiting \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"for\")]),a._v(\" admin \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"service\")]),a._v(\" startup\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),a._v(\"\\n  Admin \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"service\")]),a._v(\" started\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"==\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"==\")]),a._v(\" starting portal \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"==\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"==\")]),a._v(\"\\n  Portal logging \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"file\")]),a._v(\" is ./portal/apollo-portal.log\\n  Started \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"15100\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\"\\n  Waiting \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"for\")]),a._v(\" portal startup\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"..\")]),a._v(\"\\n  Portal started. You can visit http://localhost:8070 now\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"!\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"输入 localhost:8070进入管理页面，账号apollo 密码admin登陆\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"点击已有的SimpleApp项目（或者新增），新增配置增加一个key为productCode，值为7001601的配置，点击发布\")])])]),a._v(\" \"),s(\"h4\",{attrs:{id:\"客户端搭建\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#客户端搭建\"}},[a._v(\"#\")]),a._v(\" 客户端搭建\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[a._v(\"springboot项目 2.2.2RELEASE ，引入apollo依赖\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-xml extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"com.ctrip.framework.apollo\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"groupId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"apollo-client\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"artifactId\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"<\")]),a._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"1.5.1\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"version\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"</\")]),a._v(\"dependency\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\">\")])]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"application.properties配置\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-properties extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-properties\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"server.port\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"9999\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"#appId和配置中心中AppId相同\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"app.id\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"SampleApp\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"# 配置中心地址\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"apollo.meta\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"http://localhost:8080\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"apollo.bootstrap.enable\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"true\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"apollo.bootstrap.namespaces\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"application\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"#日志缓存位置\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"apollo.cacheDir\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"D:\\\\\\\\apollo\\\\\\\\apollo_parent\\\\\\\\LOG\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[a._v(\"env\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"=\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a._v(\"DEV\")]),a._v(\"\\n\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"启动入口增加 \"),s(\"code\",[a._v(\"@EnableApolloConfig\")]),a._v(\" 注解\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-java extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@SpringBootApplication\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@EnableApolloConfig\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"ApolloParentApplication\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"static\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"void\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"main\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"]\")]),a._v(\" args\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"SpringApplication\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"run\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"ApolloParentApplication\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" args\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"增加获取配置的config\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-java extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Configuration\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"ApolloConfig\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"/**productCode缺省值为00**/\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Value\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"${productCode:00}\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" productCode\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getProductCode\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\" productCode\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"增加controller验证\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language-java extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@RestController\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"class\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"HelloAction\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@Autowired\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"private\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"ApolloConfig\")]),a._v(\" apolloConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token annotation punctuation\"}},[a._v(\"@RequestMapping\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"/index\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"public\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"hello\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[a._v(\"String\")]),a._v(\" productCode \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"=\")]),a._v(\" apolloConfig\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"getProductCode\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[a._v(\"return\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"hello man:\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"+\")]),a._v(\"productCode\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\";\")]),a._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])])]),s(\"ul\",[s(\"li\",[a._v(\"浏览器输入 http://localhost:9999/index ，可以看到页面输出:\")])]),a._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"hello man:7001601\\n\")])])]),s(\"h3\",{attrs:{id:\"分布式部署\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#分布式部署\"}},[a._v(\"#\")]),a._v(\" 分布式部署\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"apollo可以按照分布式部署的方式编译、打包、部署Apollo配置中心，从而可以在开发、测试、生产等环境分别部署运行。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"wiki \"),s(\"code\",[a._v(\"https://github.com/ctripcorp/apollo/wiki/%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97\")])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"分布式部署，不同环境拥有不同的配置，数据方面，两条sql分别是\"),s(\"code\",[a._v(\"ApolloPortalDB\")]),a._v(\" 和\"),s(\"code\",[a._v(\"ApolloConfigDB\")]),a._v(\"，portal是环境配置管理中心，这个sql只需要在生产上部署一份，config是配置服务，每个环境都需要刷，用来保存不同环境的不同值，下图为样例部署图:\\n\"),s(\"img\",{attrs:{src:a.$withBase(\"/apollo/1.png\"),alt:\"dock\"}})])])]),a._v(\" \"),s(\"h4\",{attrs:{id:\"下载集群版\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#下载集群版\"}},[a._v(\"#\")]),a._v(\" 下载集群版\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[a._v(\"github \"),s(\"code\",[a._v(\"https://github.com/ctripcorp/apollo\")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}