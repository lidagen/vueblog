<template><div><h2 id="solidity-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#solidity-åŸºç¡€"><span>Solidity åŸºç¡€</span></a></h2>
<h3 id="solidityç¼–è¯‘å™¨-remix" tabindex="-1"><a class="header-anchor" href="#solidityç¼–è¯‘å™¨-remix"><span>Solidityç¼–è¯‘å™¨ Remix</span></a></h3>
<ul>
<li>Solidityç¼–è¯‘å™¨æ˜¯å‘å‰å…¼å®¹çš„ï¼Œå³æ–°ç‰ˆæœ¬å…¼å®¹æ—§ç‰ˆæœ¬ï¼Œåä¹‹ä¸ä¸€å®šã€‚
<ul>
<li>ç”¨äºæŠŠäººç±»ç¼–ç¨‹è¯­è¨€è½¬æˆæœºå™¨è¯­è¨€</li>
</ul>
</li>
<li>EVMç‰ˆæœ¬ä»¥åŸå¸‚å‘½å
<ul>
<li>ç±»ä¼¼javaçš„JVM,è¿è¡Œä»£ç çš„è™šæ‹Ÿæœº</li>
</ul>
</li>
</ul>
<h3 id="å¼€æºåè®®" tabindex="-1"><a class="header-anchor" href="#å¼€æºåè®®"><span>å¼€æºåè®®</span></a></h3>
<ul>
<li>åˆçº¦éœ€è¦å®šä¹‰é€‚ç”¨çš„å¼€æºåè®®,ä¸åŒçš„å¼€æºåè®®å¯¹åº”ä¸åŒSPDX license,éœ€è¦å®šä¹‰åœ¨.solæ–‡ä»¶çš„ç¬¬ä¸€è¡Œ</li>
<li>spdx.org/licenses/ä¸­æœ‰ä¸åŒåè®®çš„å…·ä½“è¯´æ˜</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code><span class="line">// SPDX-License-Identifier: MIT</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="ç¼–è¯‘å™¨ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘å™¨ç‰ˆæœ¬"><span>ç¼–è¯‘å™¨ç‰ˆæœ¬</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code><span class="line"><span class="token comment"># æ‰€æœ‰é«˜äºè¿™ä¸ªç‰ˆæœ¬çš„ç¼–è¯‘å™¨éƒ½å¯ä»¥ç¼–è¯‘</span></span>
<span class="line">pragma solidity ^0.8.24<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="solidityåŸºç¡€æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#solidityåŸºç¡€æ•°æ®ç±»å‹"><span>SolidityåŸºç¡€æ•°æ®ç±»å‹</span></a></h3>
<ul>
<li>å¸ƒå°”</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">    <span class="token builtin">bool</span> boolVal_1 <span class="token operator">=</span> true<span class="token punctuation">;</span></span>
<span class="line">    <span class="token builtin">bool</span> boolVal_2 <span class="token operator">=</span> false<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>uint æ— ç¬¦å·æ•´æ•°</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">    </span>
<span class="line">    <span class="token comment">#uint8 å¯ä»¥å­˜å‚¨ 0 - ï¼ˆ2^8-1ï¼‰ å³ 0-255ä»¥å†…çš„æ•°</span></span>
<span class="line">    uint8 uintVar <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">#uint256 å³ 0 - (2^256 -1)</span></span>
<span class="line">    uint256 uintVal_1 <span class="token operator">=</span> <span class="token number">255555555</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>int</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">    int256 intVar <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><ul>
<li>bytes</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">    <span class="token comment">#æœ€å¤§å¯ä»¥åˆ°32</span></span>
<span class="line">    bytes32 byteVal <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># stringæŸç§æ„ä¹‰ä¸ŠåŠ¨æ€åˆ†é…çš„bytesï¼Œä¼šæ ¹æ®å­—ç¬¦ä¸²è‡ªåŠ¨åˆ†é…ç©ºé—´</span></span>
<span class="line">    string strVar <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>address</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">    <span class="token comment"># åŒºå—é“¾ä¸Šæ¯”è¾ƒç‰¹æ®Šçš„åŸºç¡€æ•°æ®ç±»å‹,è´¦æˆ·æˆ–è€…åˆçº¦åœ°å€</span></span>
<span class="line">    address addrVar <span class="token operator">=</span> <span class="token number">0x6565A7f3D446AF85aC74eD687E0f75869a56Cd59</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="solidity-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#solidity-å‡½æ•°"><span>Solidity å‡½æ•°</span></a></h3>
<ul>
<li>ä¸€æ®µä¸šåŠ¡é€»è¾‘ï¼Œç”¨äºå¯¹åˆçº¦ä¸­çš„æ•°æ®è¿›è¡Œè®¡ç®—å¤„ç† ,å…³é”®å­— function</li>
<li>å‡½æ•°æ‹¥æœ‰è®¿é—®ä¿®é¥°ç¬¦ï¼Œåˆ†åˆ«æ˜¯<code v-pre>public</code>ã€<code v-pre>privete</code>ã€<code v-pre>internal</code>ã€<code v-pre>external</code></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Visibility</th>
<th style="text-align:center">Within contract</th>
<th style="text-align:center">Outside Contracts</th>
<th style="text-align:center">Child Contract</th>
<th style="text-align:center">External Accounts</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Public</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td style="text-align:left">Private</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:left">Internal</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:left">External</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>viewå…³é”®å­—</p>
<ul>
<li>å¯¹å‡½æ•°åªä¼šè¯»å–ï¼Œä¸ä¼šä¿®æ”¹å…¶ä¸­é€»è¾‘ä»¥åŠå˜é‡</li>
</ul>
</li>
<li>
<p>pureå…³é”®å­—</p>
<ul>
<li>åªè¿ç®—ï¼Œä¸ä¼šä¿®æ”¹å˜é‡å€¼</li>
</ul>
</li>
<li>
<p>è¿”å›å€¼ returns</p>
<ul>
<li>å¹¶ä¸”ä¼šå®šä¹‰è¿”å›çš„æ•°æ®ç±»å‹</li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token operator">//</span> SPDX<span class="token operator">-</span>License<span class="token operator">-</span>Identifier<span class="token punctuation">:</span> MIT</span>
<span class="line">pragma solidity <span class="token operator">^</span><span class="token number">0.8</span><span class="token number">.24</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">contract HelloWorld<span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment"># åˆçº¦ä¸­å˜é‡strValæ˜¯storageç±»å‹ï¼Œä¸éœ€è¦æ˜¾å¼å£°æ˜</span></span>
<span class="line">    string strVal <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    function sayHello<span class="token punctuation">(</span><span class="token punctuation">)</span> public view returns <span class="token punctuation">(</span>string memory<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> setInfo<span class="token punctuation">(</span>strVal<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    function setHelloWorld<span class="token punctuation">(</span>string memory newStr<span class="token punctuation">)</span> public <span class="token punctuation">{</span></span>
<span class="line">        strVal <span class="token operator">=</span> newStr<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    function setInfo<span class="token punctuation">(</span>string memory helloworldStr<span class="token punctuation">)</span> internal pure returns <span class="token punctuation">(</span>string memory<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> string<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>helloworldStr<span class="token punctuation">,</span><span class="token string">" from Jasonâ€˜s contract"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="solidityå­˜å‚¨æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#solidityå­˜å‚¨æ¨¡å¼"><span>solidityå­˜å‚¨æ¨¡å¼</span></a></h3>
<ul>
<li>solidityå­˜å‚¨æ¨¡å¼æœ‰ä»¥ä¸‹6ç§
<ul>
<li>storage : æ°¸ä¹…æ€§å­˜å‚¨</li>
<li>memory : æš‚æ—¶æ€§å­˜å‚¨,å˜é‡è¿è¡Œæ—¶å¯ä»¥è¢«ä¿®æ”¹</li>
<li>calldata : æš‚æ—¶æ€§å­˜å‚¨,å˜é‡è¿è¡Œæ—¶æ— æ³•è¢«ä¿®æ”¹</li>
<li>stack :</li>
<li>codes :</li>
<li>logs :</li>
</ul>
</li>
<li>åˆçº¦æ‰€æœ‰çš„å£°æ˜ã€å®šä¹‰ï¼Œéƒ½ä¼šè½åœ¨è¿™6ç§å­˜å‚¨æ¨¡å¼ä¸­çš„ä¸€ç§</li>
<li>å­˜å‚¨å¯åˆ†ä¸º<strong>æš‚æ—¶æ€§å­˜å‚¨</strong>ã€<strong>æ°¸ä¹…æ€§å­˜å‚¨</strong></li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>Tip:</strong>     <br></p>
<ol>
<li>å£°æ˜åœ¨åˆçº¦ä¸­çš„æ•°æ®ç±»å‹ï¼Œä¼šåˆ¤å®šä¸ºstroage <br></li>
<li>å£°æ˜åœ¨å˜é‡ä¸­çš„æ•°æ®ç±»å‹ï¼Œä¼šåˆ¤å®šä¸ºmemory <br></li>
<li>ä¼ å‚çš„stringéœ€è¦æ˜¾å¼å£°æ˜memoryï¼Œå› ä¸ºstringæ˜¯bytesæ„é€ çš„å¤æ‚æ•°æ®ç»“æ„ï¼Œéœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨å“ªç§å­˜å‚¨æ¨¡å¼</li>
</ol>
</blockquote>
<h3 id="æ•°æ®ã€æ˜ å°„ã€ç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ã€æ˜ å°„ã€ç»“æ„ä½“"><span>æ•°æ®ã€æ˜ å°„ã€ç»“æ„ä½“</span></a></h3>
<h4 id="struct-ç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#struct-ç»“æ„ä½“"><span>struct ç»“æ„ä½“</span></a></h4>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token comment"># æ„é€ ç»“æ„ä½“</span></span>
<span class="line"> struct Info <span class="token punctuation">{</span></span>
<span class="line">        string phrase<span class="token punctuation">;</span></span>
<span class="line">        uint256 <span class="token builtin">id</span><span class="token punctuation">;</span></span>
<span class="line">        address addr<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆå§‹åŒ–</span></span>
<span class="line">Info memory info <span class="token operator">=</span> Info<span class="token punctuation">(</span>newStr<span class="token punctuation">,</span>_id<span class="token punctuation">,</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="array-æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#array-æ•°ç»„"><span>array æ•°ç»„</span></a></h4>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">Info<span class="token punctuation">[</span><span class="token punctuation">]</span> infos<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">infos<span class="token punctuation">.</span>push<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mapping-æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#mapping-æ˜ å°„"><span>mapping æ˜ å°„</span></a></h4>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">mapping <span class="token punctuation">(</span>uint256 <span class="token operator">=</span><span class="token operator">></span> Info<span class="token punctuation">)</span> infoMapping<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">infoMapping<span class="token punctuation">[</span>_id<span class="token punctuation">]</span><span class="token punctuation">.</span>phrase<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ™ºèƒ½åˆçº¦å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#æ™ºèƒ½åˆçº¦å·¥å‚æ¨¡å¼"><span>æ™ºèƒ½åˆçº¦å·¥å‚æ¨¡å¼</span></a></h3>
<ul>
<li>å·¥å‚æ¨¡å¼çš„æƒ³æ³•æ˜¯æ‹¥æœ‰ä¸€ä¸ªåˆçº¦(å·¥å‚)ï¼Œè¯¥åˆçº¦å°†æ‰¿æ‹…åˆ›å»ºå…¶ä»–åˆçº¦çš„ä»»åŠ¡ã€‚åœ¨åŸºäºç±»çš„ç¼–ç¨‹ä¸­ï¼Œæ­¤æ¨¡å¼çš„ä¸»è¦åŠ¨æœºæ¥è‡ªå•ä¸€èŒè´£åŸåˆ™(ä¸€ä¸ªç±»ä¸éœ€è¦çŸ¥é“å¦‚ä½•åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹)ï¼Œå¹¶ä¸”è¯¥æ¨¡å¼ä¸ºæ„é€ å‡½æ•°æä¾›äº†ä¸€ç§æŠ½è±¡ã€‚</li>
<li>ä¸ºä»€ä¹ˆè¦åœ¨ Solidity ä¸­ä½¿ç”¨å·¥å‚æ¨¡å¼
<ul>
<li>å¦‚æœè¦åˆ›å»ºåŒä¸€åˆçº¦çš„å¤šä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æ­£åœ¨å¯»æ‰¾ä¸€ç§è·Ÿè¸ªå®ƒä»¬å¹¶ç®€åŒ–ç®¡ç†çš„æ–¹æ³•ã€‚</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line">contract Factory <span class="token punctuation">{</span></span>
<span class="line">  Child<span class="token punctuation">[</span><span class="token punctuation">]</span> children<span class="token punctuation">;</span></span>
<span class="line">  function createChild<span class="token punctuation">(</span>uint data<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">     Child child <span class="token operator">=</span> new Child<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">     children<span class="token punctuation">.</span>push<span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">contract Child<span class="token punctuation">{</span></span>
<span class="line">     uint data<span class="token punctuation">;</span></span>
<span class="line">    constructor<span class="token punctuation">(</span>uint _data<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        data <span class="token operator">=</span> _data<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>èŠ‚çœéƒ¨ç½²æˆæœ¬ï¼šä½ å¯ä»¥å…ˆéƒ¨ç½²å·¥å‚ï¼Œä¹‹ååœ¨ä½¿ç”¨æ—¶å†æ¥éƒ¨ç½²å…¶ä»–åˆçº¦ã€‚</li>
<li>æé«˜åˆçº¦å®‰å…¨æ€§: <a href="https://learnblockchain.cn/article/2297" target="_blank" rel="noopener noreferrer">https://learnblockchain.cn/article/2297</a></li>
</ul>
</li>
</ul>
<h3 id="hello-worldå·¥å‚åˆçº¦" tabindex="-1"><a class="header-anchor" href="#hello-worldå·¥å‚åˆçº¦"><span>hello worldå·¥å‚åˆçº¦</span></a></h3>
<ul>
<li>
<p>åˆ›å»ºä¸€ä¸ªå·¥å‚åˆçº¦</p>
</li>
<li>
<p>å¼•å…¥éœ€è¦ç®¡ç†çš„åˆçº¦</p>
<ul>
<li>å¼•å…¥æœ¬åœ°çš„åˆçº¦</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token comment"># å¼•å…¥åŒçº§ç›®å½•ä¸‹test.solæ–‡ä»¶çš„HelloWorldåˆçº¦</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> HelloWorld <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./test.sol"</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>å¼•å…¥githubåˆçº¦</li>
<li>å¼•å…¥åˆçº¦åŒ…</li>
</ul>
</li>
<li>
<p>ç¤ºä¾‹</p>
</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token comment"># å·¥å‚</span></span>
<span class="line"><span class="token operator">//</span> SPDX<span class="token operator">-</span>License<span class="token operator">-</span>Identifier<span class="token punctuation">:</span> MIT</span>
<span class="line">pragma solidity <span class="token operator">^</span><span class="token number">0.8</span><span class="token number">.24</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> HelloWorld <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./test.sol"</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">contract HelloWorldFactory<span class="token punctuation">{</span></span>
<span class="line">    HelloWorld hw<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    HelloWorld<span class="token punctuation">[</span><span class="token punctuation">]</span> hws<span class="token punctuation">;</span></span>
<span class="line">    function creatHelloWorld<span class="token punctuation">(</span><span class="token punctuation">)</span> public <span class="token punctuation">{</span></span>
<span class="line">        hw <span class="token operator">=</span> new HelloWorld<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        hws<span class="token punctuation">.</span>push<span class="token punctuation">(</span>hw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    function getHelloWorldByIndex<span class="token punctuation">(</span>uint256 _index<span class="token punctuation">)</span> public view returns <span class="token punctuation">(</span>HelloWorld<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> hws<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> </span>
<span class="line"></span>
<span class="line">    function callHelloWorldFromFactory<span class="token punctuation">(</span>uint256 _index<span class="token punctuation">,</span>uint _id<span class="token punctuation">)</span> public view returns <span class="token punctuation">(</span>string memory<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> hws<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>sayHello<span class="token punctuation">(</span>_id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    function callSetHelloWorldFactory<span class="token punctuation">(</span>uint256 _index<span class="token punctuation">,</span>string memory newStr<span class="token punctuation">,</span>uint256 _id<span class="token punctuation">)</span> public <span class="token punctuation">{</span></span>
<span class="line">        hws<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>setHelloWorld<span class="token punctuation">(</span>newStr<span class="token punctuation">,</span>_id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre v-pre><code><span class="line"><span class="token comment"># Hello Worldåˆçº¦</span></span>
<span class="line"><span class="token operator">//</span> SPDX<span class="token operator">-</span>License<span class="token operator">-</span>Identifier<span class="token punctuation">:</span> MIT</span>
<span class="line">pragma solidity <span class="token operator">^</span><span class="token number">0.8</span><span class="token number">.24</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">contract HelloWorld<span class="token punctuation">{</span></span>
<span class="line">    string strVal <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    struct Info <span class="token punctuation">{</span></span>
<span class="line">        string phrase<span class="token punctuation">;</span></span>
<span class="line">        uint256 <span class="token builtin">id</span><span class="token punctuation">;</span></span>
<span class="line">        address addr<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    Info<span class="token punctuation">[</span><span class="token punctuation">]</span> infos<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    mapping <span class="token punctuation">(</span>uint256 <span class="token operator">=</span><span class="token operator">></span> Info<span class="token punctuation">)</span> infoMapping<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    function sayHello<span class="token punctuation">(</span>uint256 _id<span class="token punctuation">)</span> public view returns <span class="token punctuation">(</span>string memory<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">            </span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>infoMapping<span class="token punctuation">[</span>_id<span class="token punctuation">]</span><span class="token punctuation">.</span>addr <span class="token operator">==</span> address<span class="token punctuation">(</span><span class="token number">0x0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> setInfo<span class="token punctuation">(</span>strVal<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> infoMapping<span class="token punctuation">[</span>_id<span class="token punctuation">]</span><span class="token punctuation">.</span>phrase<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    function setHelloWorld<span class="token punctuation">(</span>string memory newStr<span class="token punctuation">,</span>uint256 _id<span class="token punctuation">)</span> public <span class="token punctuation">{</span></span>
<span class="line">        Info memory info <span class="token operator">=</span> Info<span class="token punctuation">(</span>newStr<span class="token punctuation">,</span>_id<span class="token punctuation">,</span>msg<span class="token punctuation">.</span>sender<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        infoMapping<span class="token punctuation">[</span>_id<span class="token punctuation">]</span> <span class="token operator">=</span> info<span class="token punctuation">;</span></span>
<span class="line">        infos<span class="token punctuation">.</span>push<span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    function setInfo<span class="token punctuation">(</span>string memory helloworldStr<span class="token punctuation">)</span> internal pure returns <span class="token punctuation">(</span>string memory<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> string<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>helloworldStr<span class="token punctuation">,</span><span class="token string">" from Frank"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


